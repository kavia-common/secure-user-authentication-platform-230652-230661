{"is_source_file": true, "format": "TypeScript", "description": "This file defines Redux Saga generators for handling authentication workflows such as login, registration, rehydration, loading user data, and logout in a React-Redux application. It includes error handling, token management, and saga watchers for specific actions.", "external_files": ["axios", "../../auth/tokenStorage", "./authApi", "./authSlice"], "external_methods": ["call", "put", "takeLatest"], "published": ["authSaga"], "classes": [], "methods": [{"name": "function toErrorMessage(error: unknown): string { toErrorMessage", "description": "Converts unknown error objects, including Axios errors, into user-facing error message strings.", "scope": "", "scopeKind": ""}, {"name": "function isAxiosErrorWithStatus(error: unknown): error is AxiosError { isAxiosErrorWithStatus", "description": "Type guard function that checks whether a given error is an AxiosError with an HTTP status.", "scope": "", "scopeKind": ""}, {"name": "handleRehydrate", "description": "Saga worker that restores authentication state from persisted token, and requests user data load."}, {"name": "handleLogin", "description": "Saga worker that performs login API call, stores token, and dispatches success or failure actions."}, {"name": "handleRegister", "description": "Saga worker that handles user registration, token persistence, and dispatches success or failure actions."}, {"name": "handleLoadMe", "description": "Saga worker that loads current user data, handles token expiration, and manages logout on 401 errors."}, {"name": "handleLogout", "description": "Saga worker that clears authentication tokens and resets auth state upon logout."}, {"name": "authSaga", "description": "Root saga that sets up watchers for authentication-related actions."}], "calls": ["call(login, action.payload)", "call(register, action.payload)", "call(getMe)", "put(authSucceeded(...))", "put(loadMeRequested())", "put(meLoaded(...))", "put(authFailed(...))", "put(logoutRequested())", "clearAuthToken()"], "search-terms": ["authSaga", "authRehydrateRequested", "handleLogin", "handleRegister", "handleLoadMe", "tokenPersistence", "redux-saga"], "state": 2, "file_id": 40, "knowledge_revision": 139, "git_revision": "ea03ff989d3ed085c48c916983faeb56a4ca8217", "revision_history": [{"93": "6bef831816c355a23923c6c65f8ce2159c3be375"}, {"139": "ea03ff989d3ed085c48c916983faeb56a4ca8217"}], "ctags": [{"_type": "tag", "name": "authSaga", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/features/auth/authSaga.ts", "pattern": "/^export function* authSaga(): Generator {$/", "language": "TypeScript", "kind": "generator"}, {"_type": "tag", "name": "handleLoadMe", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/features/auth/authSaga.ts", "pattern": "/^function* handleLoadMe(_action: ReturnType<typeof loadMeRequested>): Generator {$/", "language": "TypeScript", "kind": "generator"}, {"_type": "tag", "name": "handleLogin", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/features/auth/authSaga.ts", "pattern": "/^function* handleLogin(action: ReturnType<typeof loginRequested>): Generator {$/", "language": "TypeScript", "kind": "generator"}, {"_type": "tag", "name": "handleLogout", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/features/auth/authSaga.ts", "pattern": "/^function* handleLogout(_action: ReturnType<typeof logoutRequested>): Generator {$/", "language": "TypeScript", "kind": "generator"}, {"_type": "tag", "name": "handleRegister", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/features/auth/authSaga.ts", "pattern": "/^function* handleRegister(action: ReturnType<typeof registerRequested>): Generator {$/", "language": "TypeScript", "kind": "generator"}, {"_type": "tag", "name": "handleRehydrate", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/features/auth/authSaga.ts", "pattern": "/^function* handleRehydrate(_action: ReturnType<typeof authRehydrateRequested>): Generator {$/", "language": "TypeScript", "kind": "generator"}, {"_type": "tag", "name": "isAxiosErrorWithStatus", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/features/auth/authSaga.ts", "pattern": "/^function isAxiosErrorWithStatus(error: unknown): error is AxiosError {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/features/auth/authSaga.ts", "pattern": "/^    const msg = (error as { message?: unknown }).message;$/", "language": "TypeScript", "kind": "constant", "scope": "toErrorMessage", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/features/auth/authSaga.ts", "pattern": "/^    const res = (yield call(getMe)) as Awaited<ReturnType<typeof getMe>>;$/", "language": "TypeScript", "kind": "constant", "scope": "handleLoadMe", "scopeKind": "generator"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/features/auth/authSaga.ts", "pattern": "/^    const res = (yield call(login, action.payload)) as Awaited<ReturnType<typeof login>>;$/", "language": "TypeScript", "kind": "constant", "scope": "handleLogin", "scopeKind": "generator"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/features/auth/authSaga.ts", "pattern": "/^    const res = (yield call(register, action.payload)) as Awaited<ReturnType<typeof register>>;$/", "language": "TypeScript", "kind": "constant", "scope": "handleRegister", "scopeKind": "generator"}, {"_type": "tag", "name": "toErrorMessage", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/features/auth/authSaga.ts", "pattern": "/^function toErrorMessage(error: unknown): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/features/auth/authSaga.ts", "pattern": "/^    const token = getAuthToken();$/", "language": "TypeScript", "kind": "constant", "scope": "handleRehydrate", "scopeKind": "generator"}], "hash": "243ec44dcb41acf82bb254213231745f", "format-version": 4, "code-base-name": "frontend_app", "filename": "frontend_app/src/features/auth/authSaga.ts"}