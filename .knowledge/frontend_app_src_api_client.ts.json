{"is_source_file": true, "format": "TypeScript", "description": "This file defines a configured Axios API client with interceptors for handling authentication tokens and centralized response error handling, along with helper functions for making typed HTTP requests.", "external_files": ["../store/store", "../features/auth/authSlice", "axios"], "external_methods": ["store.dispatch", "selectToken"], "published": ["apiClient", "apiGet", "apiPost", "apiPut", "apiDelete"], "classes": [], "methods": [{"name": "function resolveApiBaseUrl(): string { resolveApiBaseUrl", "description": "Determines the API base URL from environment variables, supporting different deployment scenarios and fallback to same-origin.", "scope": "", "scopeKind": ""}, {"name": "export async function apiGet<TResponse>(url: string, config?: AxiosRequestConfig): Promise<TResp/ apiGet", "description": "Performs a GET request with typed response, using the shared Axios instance.", "scope": "", "scopeKind": ""}, {"name": "export async function apiPost<TResponse, TBody = unknown>( apiPost", "description": "Performs a POST request with typed response; supports request body and config.", "scope": "", "scopeKind": ""}, {"name": "export async function apiPut<TResponse, TBody = unknown>( apiPut", "description": "Performs a PUT request with typed response; supports request body and config.", "scope": "", "scopeKind": ""}, {"name": "export async function apiDelete<TResponse>(url: string, config?: AxiosRequestConfig): Promise<TR/ apiDelete", "description": "Performs a DELETE request with typed response.", "scope": "", "scopeKind": ""}], "calls": ["axios.create", "apiClient.interceptors.request.use", "apiClient.interceptors.response.use", "store.dispatch", "selectToken"], "search-terms": ["apiClient", "interceptors", "auth token", "axios instance", "typescript API client", "environment variable API URL", "authorized requests"], "state": 2, "file_id": 37, "knowledge_revision": 141, "git_revision": "ea03ff989d3ed085c48c916983faeb56a4ca8217", "revision_history": [{"85": "07bb78d5536b41089a81393a98c9197bdf354c12"}, {"140": "ea03ff989d3ed085c48c916983faeb56a4ca8217"}, {"141": "ea03ff989d3ed085c48c916983faeb56a4ca8217"}], "ctags": [{"_type": "tag", "name": "apiBase", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/api/client.ts", "pattern": "/^  const apiBase = env.REACT_APP_API_BASE;$/", "language": "TypeScript", "kind": "constant", "scope": "resolveApiBaseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "apiBaseURL", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/api/client.ts", "pattern": "/^const apiBaseURL = resolveApiBaseUrl();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "apiClient", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/api/client.ts", "pattern": "/^export const apiClient: AxiosInstance = axios.create({$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "apiDelete", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/api/client.ts", "pattern": "/^export async function apiDelete<TResponse>(url: string, config?: AxiosRequestConfig): Promise<TR/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "apiGet", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/api/client.ts", "pattern": "/^export async function apiGet<TResponse>(url: string, config?: AxiosRequestConfig): Promise<TResp/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "apiPost", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/api/client.ts", "pattern": "/^export async function apiPost<TResponse, TBody = unknown>($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "apiPut", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/api/client.ts", "pattern": "/^export async function apiPut<TResponse, TBody = unknown>($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "backendUrl", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/api/client.ts", "pattern": "/^  const backendUrl = env.REACT_APP_BACKEND_URL;$/", "language": "TypeScript", "kind": "constant", "scope": "resolveApiBaseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "candidate", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/api/client.ts", "pattern": "/^  const candidate = (typeof apiBase === \"string\" && apiBase.trim()) || (typeof backendUrl === \"s/", "language": "TypeScript", "kind": "constant", "scope": "resolveApiBaseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "env", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/api/client.ts", "pattern": "/^  const env = import.meta.env as Record<string, unknown>;$/", "language": "TypeScript", "kind": "constant", "scope": "resolveApiBaseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/api/client.ts", "pattern": "/^  const res: AxiosResponse<TResponse> = await apiClient.delete<TResponse>(url, config);$/", "language": "TypeScript", "kind": "constant", "scope": "apiDelete", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/api/client.ts", "pattern": "/^  const res: AxiosResponse<TResponse> = await apiClient.get<TResponse>(url, config);$/", "language": "TypeScript", "kind": "constant", "scope": "apiGet", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/api/client.ts", "pattern": "/^  const res: AxiosResponse<TResponse> = await apiClient.post<TResponse>(url, body, config);$/", "language": "TypeScript", "kind": "constant", "scope": "apiPost", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/api/client.ts", "pattern": "/^  const res: AxiosResponse<TResponse> = await apiClient.put<TResponse>(url, body, config);$/", "language": "TypeScript", "kind": "constant", "scope": "apiPut", "scopeKind": "function"}, {"_type": "tag", "name": "resolveApiBaseUrl", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/api/client.ts", "pattern": "/^function resolveApiBaseUrl(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/api/client.ts", "pattern": "/^    const status = error.response?.status;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-230652-230661/frontend_app/src/api/client.ts", "pattern": "/^    const token = selectToken(store.getState());$/", "language": "TypeScript", "kind": "constant"}], "hash": "1d0b2d05a7e4cdc99704b8ed7c7abea3", "format-version": 4, "code-base-name": "frontend_app", "filename": "frontend_app/src/api/client.ts"}